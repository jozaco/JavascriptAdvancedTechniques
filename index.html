<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Draw version 1</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="">
        <style>
            #theCanvas { background-image: -webkit-radial-gradient(30px 30px,#fff,#eef)}
        </style>
    </head>
    <body>
        <!--[if lt IE 7]>
            <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="#">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->
        
        <canvas id="theCanvas" width="640" height="480">
            Attention! your browser does not support canvas
        </canvas>

        <script>
            _KSM = {
                    
                draw: function(left, top, width, height, stroke, fill) {
                    let canvas = document.getElementById('theCanvas');
                    if(canvas.getContext) {

                        let context = canvas.getContext('2d');
                        let options = {};

                        if(typeof left === 'object') {
                            options = left;
                        }else{
                            options = {
                                left: left,
                                top: top,
                                width: width,
                                height: height,
                                stroke: stroke,
                                fill: fill,
                            };
                        }

                        if(options.clear) {
                            canvas.width = canvas.width;
                        }

                        options.top = options.top || _KSM.drawOptions.top;
                        options.left = options.left || _KSM.drawOptions.left;
                        options.width = options.width || _KSM.drawOptions.width;
                        options.height = options.height || _KSM.drawOptions.height;
                        options.stroke = options.stroke || _KSM.drawOptions.stroke;
                        options.fill = options.fill || _KSM.drawOptions.fill;
                        
                        
                        context.strokeStyle = options.stroke;
                        context.fillStyle = options.fill;
                        context.fillRect(options.left,
                                        options.top,
                                        options.width,
                                        options.height);
                        context.strokeRect(options.left,
                                        options.top,
                                        options.width,
                                        options.height);
                    }
                },

                drawOptions: {
                    top: 10,
                    left: 10,
                    width: 100,
                    height: 100,
                    stroke: 'black',
                    fill: 'silver',
                    clear: false,
                },
            }
            // Legacy code
            _KSM.drawOptions.stroke = '#44f';
            _KSM.drawOptions.fill = '#FFE';
            _KSM.draw();
            _KSM.draw(530, 370);
            _KSM.draw(100, 100, 440, 280);
            _KSM.draw(120, 120, 400, 240, 'burlywood', 'lemonchiffon');
            _KSM.draw(530, 10, 100, 100, 'red', 'teal');
            _KSM.draw(10, 310, 160, 160, 'red');
            _KSM.draw({stroke: 'red', left: 140, top: 450, height: 20, width:360});

            //Latest code
            // _KSM.drawOptions.stroke = '#44f';
            // _KSM.drawOptions.fill = '#FFE';
            // _KSM.draw({clear: true});
            // _KSM.draw(530, 370);

        </script>
    </body>
</html>